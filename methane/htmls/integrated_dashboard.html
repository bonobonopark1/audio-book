<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 통합 대시보드</title>
    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #f7f9fc;
        }
        /* Iframe 제거 대신, 전체 화면을 사이드바와 콘텐츠 영역으로 나눔 */
        #mainContainer {
            display: flex;
            height: 100%;
        }
        /* 모바일 환경에서 배너가 화면 전체를 덮도록 설정 */
        @media (max-width: 768px) {
            #sidebar {
                position: fixed;
                top: 0;
                left: 0;
                z-index: 10;
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
            }
            #sidebar.open {
                transform: translateX(0);
                box-shadow: 4px 0 10px rgba(0, 0, 0, 0.1);
            }
        }
        .link-style {
            cursor: pointer;
        }
    </style>
</head>
<body>

    <!-- Main Grid Layout (Desktop: Sidebar + Content) -->
    <div id="mainContainer" class="flex-col md:flex-row">

        <!-- Sidebar (Left Navigation) -->
        <aside id="sidebar" class="bg-white w-full md:w-64 flex-shrink-0 border-r border-gray-200 h-full p-4 overflow-y-auto md:relative">
            <h1 class="text-xl font-bold text-sky-600 mb-6 border-b pb-2">통합 프로젝트 목록</h1>
            
            <!-- Navigation Links -->
            <nav id="navLinks" class="space-y-2"></nav>

            <div class="mt-8 pt-4 border-t text-sm text-gray-400">
                <p>Streamlit 프로젝트 링크</p>
                <p class="text-xs mt-1">클릭 시 새 탭에서 열립니다.</p>
            </div>
        </aside>

        <!-- Content Area (Instruction/Welcome) -->
        <!-- iframe 대신 환영 메시지를 넣어 사용자가 클릭 유도 -->
        <div id="contentArea" class="flex-grow flex flex-col justify-center items-center p-8">
            
            <!-- Mobile Header and Menu Button -->
            <header class="md:hidden bg-white shadow-md p-3 flex justify-between items-center w-full absolute top-0 left-0 flex-shrink-0">
                <h2 class="text-lg font-semibold text-gray-800">대시보드</h2>
                <button id="menuButton" class="p-2 rounded-lg bg-sky-50 text-sky-600">
                    <!-- Menu Icon (Hamburger) -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
                </button>
            </header>

            <div class="text-center p-8 bg-white rounded-xl shadow-lg max-w-lg mt-16 md:mt-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#0ea5e9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">포트폴리오에 오신 것을 환영합니다!</h3>
                <p class="text-gray-600 mb-6">
                    왼쪽 사이드바에서 프로젝트 목차를 선택하시면, 해당 Streamlit 애플리케이션이 **새로운 브라우저 탭**으로 열립니다.
                </p>
                <p class="text-sm text-gray-500">
                    (Streamlit의 보안 정책으로 인해 페이지 내 임베딩이 불가능하여 새 탭 열기로 전환했습니다.)
                </p>
            </div>
        </div>
    </div>

    <script>
        // 1. 사용자님의 4가지 프로젝트 정보
        const APPS = [
            { id: 'app1', title: 'Streamlit App 1: 오디오북', url: 'https://audio-book-bonobono.streamlit.app/' },
            { id: 'app2', title: 'Streamlit App 2: 조추첨', url: 'https://audio-book-bonobono.streamlit.app/' },
            { id: 'app3', title: 'Streamlit App 3: 게임', url: 'https://audio-book-bonobono.streamlit.app/' },
            { id: 'app4', title: 'Streamlit App 4: 연구계획서', url: 'https://audio-book-6bdthlyackcypttmloccky.streamlit.app/' }
        ];

        // 2. DOM 요소 참조
        const navLinksContainer = document.getElementById('navLinks');
        const sidebar = document.getElementById('sidebar');
        const menuButton = document.getElementById('menuButton');
        let activeAppId = APPS[0].id; // 초기값 설정

        // 3. 앱 로드 함수 (새 탭에서 열기)
        function loadApp(appId) {
            const app = APPS.find(a => a.id === appId);
            if (app) {
                // iframe 대신 새 창에서 앱 URL을 엽니다.
                window.open(app.url, '_blank'); 
                
                // 현재 활성화된 앱 ID 업데이트 및 스타일 업데이트
                activeAppId = appId;
                updateActiveLink();

                // 모바일에서 메뉴 닫기
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('open');
                }
            } else {
                console.error(`App with ID ${appId} not found.`);
            }
        }

        // 4. 사이드바 활성화 스타일 업데이트 함수
        function updateActiveLink() {
            navLinksContainer.querySelectorAll('a').forEach(link => {
                if (link.dataset.id === activeAppId) {
                    // 활성화된 링크 스타일
                    link.className = 'link-style flex items-center p-3 rounded-lg bg-sky-100 text-sky-700 font-semibold transition duration-150';
                } else {
                    // 비활성화된 링크 스타일
                    link.className = 'link-style flex items-center p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition duration-150';
                }
            });
        }

        // 5. 사이드바 링크 렌더링
        function renderNavLinks() {
            APPS.forEach(app => {
                const link = document.createElement('a');
                link.href = '#';
                link.textContent = app.title;
                link.dataset.id = app.id;
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    loadApp(app.id); // 새 탭에서 열기
                });
                navLinksContainer.appendChild(link);
            });
            // 초기 활성화 스타일 적용 (첫 번째 링크 활성화 상태 유지)
            updateActiveLink();
        }

        // 6. 모바일 메뉴 토글 이벤트 리스너
        if (menuButton) {
            menuButton.addEventListener('click', () => {
                sidebar.classList.toggle('open');
            });
        }

        // 7. 페이지 로드 시 초기화
        window.onload = function() {
            renderNavLinks();
        };

    </script>

</body>
</html>


